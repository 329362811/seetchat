require("../../common/manifest.js")
require("../../debug/GenerateTestUserSig.js")
require("../../common/vendor.js")
global.webpackJsonpMpvue([14],{LXEv:function(t,a,s){"use strict";var i=s("Dd8w"),n=s.n(i),e=s("NYxO"),c=s("0xDb");a.a={data:function(){return{modalVisible:!1,conversation:{}}},computed:n()({},Object(e.c)({allConversation:function(t){return t.conversation.allConversation},isSdkReady:function(t){return t.global.isSdkReady}}),Object(e.b)(["totalUnreadCount","myInfo"])),onPullDownRefresh:function(){Object(c.e)(wx.$app.getConversationList(),1e3),wx.stopPullDownRefresh()},methods:{longTimePress:function(t){this.conversation=t,this.handleModalShow()},handleModalShow:function(){this.modalVisible=!this.modalVisible},handleConfirm:function(){this.handleModalShow(),this.deleteConversation(this.conversation)},setMessageRead:function(t){0!==t.unreadCount&&wx.$app.setMessageRead({conversationID:t.conversationID})},checkoutConversation:function(t,a){this.$store.dispatch("checkoutConversation",t.conversationID)},checkoutNotification:function(t){var a=this;this.$store.commit("resetCurrentConversation"),this.$store.commit("resetGroup"),this.setMessageRead(t),wx.$app.getConversationProfile(t.conversationID).then(function(t){a.$store.commit("updateCurrentConversation",t.data.conversation),a.$store.dispatch("getMessageList")});wx.navigateTo({url:"../system/main"})},deleteConversation:function(t){wx.$app.deleteConversation(t.conversationID).then(function(t){console.log("delete success",t)})},empty:function(){wx.navigateTo({url:"../search/main"})},onSearchIndex:function(){wx.navigateTo({url:"../searchIndex/main"})}},onLoad:function(){this.isSdkReady||wx.showLoading({title:"正在同步数据",mask:!0})},watch:{isSdkReady:function(t){t&&wx.hideLoading()}}}},MhDc:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=s("5nAL"),n=s.n(i),e=s("Qt9A");n.a.config.errorHandler=function(t){console&&console.error&&console.error(t)},new n.a(e.a).$mount()},Qt9A:function(t,a,s){"use strict";var i=s("LXEv"),n=s("Xcj4");var e=function(t){s("uMbc")},c=s("GbJU")(i.a,n.a,e,null,null);a.a=c.exports},Xcj4:function(t,a,s){"use strict";var i={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"chat-container"},[0===t.allConversation.length?s("div",{staticClass:"empty"},[s("button",{staticClass:"empty-button",attrs:{type:"button",eventid:"0"},on:{click:t.empty}},[t._v("\n        发起一段对话吧\n      ")])],1):t._e(),t._v(" "),s("i-modal",{attrs:{title:"确认删除会话？",visible:t.modalVisible,eventid:"1",mpcomid:"0"},on:{ok:function(a){t.handleConfirm()},cancel:t.handleModalShow}}),t._v(" "),s("van-icon",{staticClass:"search-icon",attrs:{name:"search",eventid:"2",mpcomid:"1"},on:{click:t.onSearchIndex}}),t._v(" "),s("van-tabs",{attrs:{"line-width":"10px",color:"#FFFFFF",animated:"",eventid:"6",mpcomid:"17"},model:{value:t.active,callback:function(a){t.active=a},expression:"active"}},[s("van-tab",{attrs:{title:"最新求聊",mpcomid:"11"}},[t._l(t.allConversation,function(a,i){return["C2C"===a.type?s("div",{key:a.conversationID,staticClass:"chat",attrs:{eventid:"5_"+i},on:{longpress:function(s){t.longTimePress(a)},click:function(s){t.checkoutConversation(a,a.userProfile.nick||a.userProfile.userID)}}},[s("div",{staticClass:"avatar-container"},[s("i-avatar",{attrs:{src:a.userProfile.avatar||"/static/images/avatar.png","i-class":"avatar",mpcomid:"2_"+i}})],1),t._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"information"},[s("div",{staticClass:"username"},[t._v(t._s(a.userProfile.nick||a.userProfile.userID))]),t._v(" "),a.lastMessage.isRevoked?s("div",{staticClass:"content"},[t.myInfo.userID===a.lastMessage.fromAccount?[t._v("你撤回了一条消息")]:[t._v(t._s(a.lastMessage.fromAccount)+"撤回了一条消息")]],2):s("div",{staticClass:"content"},[t._v(t._s(a.lastMessage.messageForShow))])]),t._v(" "),s("div",{staticClass:"time"},[s("div",{staticClass:"last"},[t._v(t._s(a.lastMessage._lastTime))]),t._v(" "),a.unreadCount>0?s("div",{staticClass:"remain"},[a.unreadCount>99?s("span",{staticClass:"info"},[t._v("99+")]):s("span",{staticClass:"info"},[t._v(t._s(a.unreadCount))])]):t._e()])])]):"GROUP"===a.type?s("div",{key:a.conversationID,staticClass:"chat",attrs:{eventid:"3_"+i},on:{click:function(s){t.checkoutConversation(a,a.groupProfile.name||a.groupProfile.ID)},longpress:function(s){t.longTimePress(a)}}},[s("div",{staticClass:"avatar-container"},[s("i-avatar",{attrs:{src:a.groupProfile.avatar,"i-class":"avatar",mpcomid:"5_"+i}})],1),t._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"information"},[s("div",{staticClass:"username"},[t._v(t._s(a.groupProfile.name||a.groupProfile.groupID))]),t._v(" "),a.lastMessage.isRevoked?s("div",{staticClass:"content"},[t.myInfo.userID===a.lastMessage.fromAccount?[t._v("你撤回了一条消息")]:[t._v(t._s(a.lastMessage.fromAccount)+"撤回了一条消息")]],2):s("div",{staticClass:"content"},["@TIM#SYSTEM"===a.lastMessage.fromAccount?[t._v(t._s(a.lastMessage.messageForShow))]:[t._v(t._s(a.lastMessage.fromAccount)+"："+t._s(a.lastMessage.messageForShow))]],2)]),t._v(" "),s("div",{staticClass:"time"},[s("div",{staticClass:"last"},[t._v(t._s(a.lastMessage._lastTime))]),t._v(" "),a.unreadCount>0?s("div",{staticClass:"remain"},[a.unreadCount>99?s("span",{staticClass:"info"},[t._v("99+")]):s("span",{staticClass:"info"},[t._v(t._s(a.unreadCount))])]):t._e()])])]):"@TIM#SYSTEM"===a.type?s("div",{key:a.conversationID,staticClass:"chat",attrs:{eventid:"4_"+i},on:{click:function(s){t.checkoutNotification(a)},longpress:function(s){t.longTimePress(a)}}},[s("div",{staticClass:"avatar-container"},[s("image",{staticClass:"avatar",attrs:{src:"/static/images/system.png"}})]),t._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"information"},[s("div",{staticClass:"username"},[t._v("系统通知")]),t._v(" "),s("div",{staticClass:"content"},[t._v("点击查看")])]),t._v(" "),s("div",{staticClass:"time"},[s("div",{staticClass:"last"}),t._v(" "),a.unreadCount>0?s("div",{staticClass:"remain"},[a.unreadCount>99?s("span",{staticClass:"info"},[t._v("99+")]):s("span",{staticClass:"info"},[t._v(t._s(a.unreadCount))])]):t._e()])])]):t._e()]})],2),t._v(" "),s("van-tab",{staticClass:"tabs-2",attrs:{title:"人气榜单",mpcomid:"15"}},[s("van-cell",{staticClass:"vanCell-33",attrs:{title:"女","is-link":"","arrow-direction":"down",mpcomid:"12"}}),t._v(" "),s("van-cell",{staticClass:"vanCell-33",attrs:{title:"单量","is-link":"","arrow-direction":"down",mpcomid:"13"}}),t._v(" "),s("van-cell",{staticClass:"vanCell-33",attrs:{title:"深圳","is-link":"","arrow-direction":"down",mpcomid:"14"}}),t._v(" "),s("div",{staticClass:"vanDiv-img"},[s("img",{staticClass:"vanImage",attrs:{src:"https://img.yzcdn.cn/vant/cat.jpeg",alt:"Smiley face"}}),t._v(" "),s("div",{staticClass:"name-title"},[t._v("妲己nn")]),t._v(" "),s("div",{staticClass:"name-vlog"},[t._v("一个来自江湖的大佬")])]),t._v(" "),s("div",{staticClass:"vanDiv-img"},[s("img",{staticClass:"vanImage",attrs:{src:"https://img.yzcdn.cn/vant/cat.jpeg",alt:"Smiley face"}}),t._v(" "),s("div",{staticClass:"name-title"},[t._v("妲己nn")]),t._v(" "),s("div",{staticClass:"name-vlog"},[t._v("一个来自江湖的大佬")])]),t._v(" "),s("div",{staticClass:"vanDiv-img"},[s("img",{staticClass:"vanImage",attrs:{src:"https://img.yzcdn.cn/vant/cat.jpeg",alt:"Smiley face"}}),t._v(" "),s("div",{staticClass:"name-title"},[t._v("妲己nn")]),t._v(" "),s("div",{staticClass:"name-vlog"},[t._v("一个来自江湖的大佬")])]),t._v(" "),s("div",{staticClass:"vanDiv-img"},[s("img",{staticClass:"vanImage",attrs:{src:"https://img.yzcdn.cn/vant/cat.jpeg",alt:"Smiley face"}}),t._v(" "),s("div",{staticClass:"name-title"},[t._v("妲己nn")]),t._v(" "),s("div",{staticClass:"name-vlog"},[t._v("一个来自江湖的大佬")])]),t._v(" "),s("div",{staticClass:"vanDiv-img"},[s("img",{staticClass:"vanImage",attrs:{src:"https://img.yzcdn.cn/vant/cat.jpeg",alt:"Smiley face"}}),t._v(" "),s("div",{staticClass:"name-title"},[t._v("妲己nn")]),t._v(" "),s("div",{staticClass:"name-vlog"},[t._v("一个来自江湖的大佬")])]),t._v(" "),s("div",{staticClass:"vanDiv-img"},[s("img",{staticClass:"vanImage",attrs:{src:"https://img.yzcdn.cn/vant/cat.jpeg",alt:"Smiley face"}}),t._v(" "),s("div",{staticClass:"name-title"},[t._v("妲己nn")]),t._v(" "),s("div",{staticClass:"name-vlog"},[t._v("一个来自江湖的大佬")])]),t._v(" "),s("div",{staticClass:"vanDiv-img"},[s("img",{staticClass:"vanImage",attrs:{src:"https://img.yzcdn.cn/vant/cat.jpeg",alt:"Smiley face"}}),t._v(" "),s("div",{staticClass:"name-title"},[t._v("妲己nn")]),t._v(" "),s("div",{staticClass:"name-vlog"},[t._v("一个来自江湖的大佬")])])],1),t._v(" "),s("van-tab",{staticClass:"tabs-3",attrs:{title:"同城",mpcomid:"16"}},[s("div",{staticClass:"vanDiv-img"},[s("img",{staticClass:"vanImage",attrs:{src:"https://img.yzcdn.cn/vant/cat.jpeg",alt:"Smiley face"}}),t._v(" "),s("div",{staticClass:"name-title"},[t._v("妲己nn")]),t._v(" "),s("div",{staticClass:"name-title-right"},[t._v("1.6KM")]),t._v(" "),s("div",{staticClass:"name-vlog"},[t._v("一个来自江湖的大佬")])]),t._v(" "),s("div",{staticClass:"vanDiv-img"},[s("img",{staticClass:"vanImage",attrs:{src:"https://img.yzcdn.cn/vant/cat.jpeg",alt:"Smiley face"}}),t._v(" "),s("div",{staticClass:"name-title"},[t._v("妲己nn")]),t._v(" "),s("div",{staticClass:"name-vlog"},[t._v("一个来自江湖的大佬")])]),t._v(" "),s("div",{staticClass:"vanDiv-img"},[s("img",{staticClass:"vanImage",attrs:{src:"https://img.yzcdn.cn/vant/cat.jpeg",alt:"Smiley face"}}),t._v(" "),s("div",{staticClass:"name-title"},[t._v("妲己nn")]),t._v(" "),s("div",{staticClass:"name-vlog"},[t._v("一个来自江湖的大佬")])]),t._v(" "),s("div",{staticClass:"vanDiv-img"},[s("img",{staticClass:"vanImage",attrs:{src:"https://img.yzcdn.cn/vant/cat.jpeg",alt:"Smiley face"}}),t._v(" "),s("div",{staticClass:"name-title"},[t._v("妲己nn")]),t._v(" "),s("div",{staticClass:"name-vlog"},[t._v("一个来自江湖的大佬")])]),t._v(" "),s("div",{staticClass:"vanDiv-img"},[s("img",{staticClass:"vanImage",attrs:{src:"https://img.yzcdn.cn/vant/cat.jpeg",alt:"Smiley face"}}),t._v(" "),s("div",{staticClass:"name-title"},[t._v("妲己nn")]),t._v(" "),s("div",{staticClass:"name-vlog"},[t._v("一个来自江湖的大佬")])]),t._v(" "),s("div",{staticClass:"vanDiv-img"},[s("img",{staticClass:"vanImage",attrs:{src:"https://img.yzcdn.cn/vant/cat.jpeg",alt:"Smiley face"}}),t._v(" "),s("div",{staticClass:"name-title"},[t._v("妲己nn")]),t._v(" "),s("div",{staticClass:"name-vlog"},[t._v("一个来自江湖的大佬")])]),t._v(" "),s("div",{staticClass:"vanDiv-img"},[s("img",{staticClass:"vanImage",attrs:{src:"https://img.yzcdn.cn/vant/cat.jpeg",alt:"Smiley face"}}),t._v(" "),s("div",{staticClass:"name-title"},[t._v("妲己nn")]),t._v(" "),s("div",{staticClass:"name-vlog"},[t._v("一个来自江湖的大佬")])])])],1)],1)},staticRenderFns:[]};a.a=i},uMbc:function(t,a){}},["MhDc"]);